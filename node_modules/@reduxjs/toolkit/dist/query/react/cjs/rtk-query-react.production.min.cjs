"use strict";var me=Object.create;var _=Object.defineProperty;var xe=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Ae=Object.getPrototypeOf,Be=Object.prototype.hasOwnProperty;var he=(e,n)=>{for(var s in n)_(e,s,{get:n[s],enumerable:!0})},V=(e,n,s,Q)=>{if(n&&typeof n=="object"||typeof n=="function")for(let p of Se(n))!Be.call(e,p)&&p!==s&&_(e,p,{get:()=>n[p],enumerable:!(Q=xe(n,p))||Q.enumerable});return e},v=(e,n,s)=>(V(e,n,"default"),s&&V(s,n,"default")),be=(e,n,s)=>(s=e!=null?me(Ae(e)):{},V(n||!e||!e.__esModule?_(s,"default",{value:e,enumerable:!0}):s,e)),ke=e=>V(_({},"__esModule",{value:!0}),e);var O={};he(O,{ApiProvider:()=>De,createApi:()=>Ue,reactHooksModule:()=>se,reactHooksModuleName:()=>ie});module.exports=ke(O);var Y=require("@reduxjs/toolkit/query");var $e=require("@reduxjs/toolkit");function ue(e){return e.type==="query"}function ae(e){return e.type==="mutation"}function q(e,...n){return Object.assign(e,...n)}function j(e){return e.replace(e[0],e[0].toUpperCase())}var a=require("@reduxjs/toolkit");var de=require("@reduxjs/toolkit"),Ie=require("@reduxjs/toolkit"),w=require("@reduxjs/toolkit/query"),t=require("react"),Z=require("react-redux");var ye=WeakMap?new WeakMap:void 0,pe=({endpointName:e,queryArgs:n})=>{let s="",Q=ye?.get(n);if(typeof Q=="string")s=Q;else{let p=JSON.stringify(n,(x,B)=>(0,a.isPlainObject)(B)?Object.keys(B).sort().reduce((b,k)=>(b[k]=B[k],b),{}):B);(0,a.isPlainObject)(n)&&ye?.set(n,p),s=p}return`${e}(${s})`};var W=Symbol();var z=require("react");function ne(e,n,s,Q){let p=(0,z.useMemo)(()=>({queryArgs:e,serialized:typeof e=="object"?n({queryArgs:e,endpointDefinition:s,endpointName:Q}):e}),[e,n,s,Q]),x=(0,z.useRef)(p);return(0,z.useEffect)(()=>{x.current.serialized!==p.serialized&&(x.current=p)},[p]),x.current.serialized===p.serialized?x.current.queryArgs:e}var $=require("react"),re=require("react-redux");function G(e){let n=(0,$.useRef)(e);return(0,$.useEffect)(()=>{(0,re.shallowEqual)(n.current,e)||(n.current=e)},[e]),(0,re.shallowEqual)(n.current,e)?n.current:e}var Ee=typeof window<"u"&&window.document&&window.document.createElement?t.useLayoutEffect:t.useEffect,Me=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:w.QueryStatus.pending}:e;function ce({api:e,moduleOptions:{batch:n,hooks:{useDispatch:s,useSelector:Q,useStore:p},unstable__sideEffectsInRender:x,createSelector:B},serializeQueryArgs:b,context:k}){let F=x?r=>r():t.useEffect;return{buildQueryHooks:U,buildMutationHook:I,usePrefetch:ee};function X(r,T,c){if(T?.endpointName&&r.isUninitialized){let{endpointName:y}=T,D=k.endpointDefinitions[y];b({queryArgs:T.originalArgs,endpointDefinition:D,endpointName:y})===b({queryArgs:c,endpointDefinition:D,endpointName:y})&&(T=void 0)}let R=r.isSuccess?r.data:T?.data;R===void 0&&(R=r.data);let u=R!==void 0,o=r.isLoading,i=!u&&o,d=r.isSuccess||o&&u;return{...r,data:R,currentData:r.data,isFetching:o,isLoading:i,isSuccess:d}}function ee(r,T){let c=s(),R=G(T);return(0,t.useCallback)((u,o)=>c(e.util.prefetch(r,u,{...R,...o})),[r,c,R])}function U(r){let T=(u,{refetchOnReconnect:o,refetchOnFocus:i,refetchOnMountOrArgChange:d,skip:y=!1,pollingInterval:D=0,skipPollingIfUnfocused:f=!1}={})=>{let{initiate:E}=e.endpoints[r],l=s(),g=(0,t.useRef)();if(!g.current){let M=l(e.internalActions.internal_getRTKQSubscriptions());g.current=M}let A=ne(y?w.skipToken:u,pe,k.endpointDefinitions[r],r),m=G({refetchOnReconnect:o,refetchOnFocus:i,pollingInterval:D,skipPollingIfUnfocused:f}),h=(0,t.useRef)(!1),S=(0,t.useRef)(),{queryCacheKey:N,requestId:C}=S.current||{},H=!1;N&&C&&(H=g.current.isRequestSubscribed(N,C));let L=!H&&h.current;return F(()=>{h.current=H}),F(()=>{L&&(S.current=void 0)},[L]),F(()=>{let M=S.current;if(typeof process<"u",A===w.skipToken){M?.unsubscribe(),S.current=void 0;return}let te=S.current?.subscriptionOptions;if(!M||M.arg!==A){M?.unsubscribe();let K=l(E(A,{subscriptionOptions:m,forceRefetch:d}));S.current=K}else m!==te&&M.updateSubscriptionOptions(m)},[l,E,d,A,m,L]),(0,t.useEffect)(()=>()=>{S.current?.unsubscribe(),S.current=void 0},[]),(0,t.useMemo)(()=>({refetch:()=>{if(!S.current)throw new Error((0,de.formatProdErrorMessage)(38));return S.current?.refetch()}}),[])},c=({refetchOnReconnect:u,refetchOnFocus:o,pollingInterval:i=0,skipPollingIfUnfocused:d=!1}={})=>{let{initiate:y}=e.endpoints[r],D=s(),[f,E]=(0,t.useState)(W),l=(0,t.useRef)(),g=G({refetchOnReconnect:u,refetchOnFocus:o,pollingInterval:i,skipPollingIfUnfocused:d});F(()=>{let h=l.current?.subscriptionOptions;g!==h&&l.current?.updateSubscriptionOptions(g)},[g]);let A=(0,t.useRef)(g);F(()=>{A.current=g},[g]);let m=(0,t.useCallback)(function(h,S=!1){let N;return n(()=>{l.current?.unsubscribe(),l.current=N=D(y(h,{subscriptionOptions:A.current,forceRefetch:!S})),E(h)}),N},[D,y]);return(0,t.useEffect)(()=>()=>{l?.current?.unsubscribe()},[]),(0,t.useEffect)(()=>{f!==W&&!l.current&&m(f,!0)},[f,m]),(0,t.useMemo)(()=>[m,f],[m,f])},R=(u,{skip:o=!1,selectFromResult:i}={})=>{let{select:d}=e.endpoints[r],y=ne(o?w.skipToken:u,b,k.endpointDefinitions[r],r),D=(0,t.useRef)(),f=(0,t.useMemo)(()=>B([d(y),(m,h)=>h,m=>y],X,{memoizeOptions:{resultEqualityCheck:Z.shallowEqual}}),[d,y]),E=(0,t.useMemo)(()=>i?B([f],i,{devModeChecks:{identityFunctionCheck:"never"}}):f,[f,i]),l=Q(m=>E(m,D.current),Z.shallowEqual),g=p(),A=f(g.getState(),D.current);return Ee(()=>{D.current=A},[A]),l};return{useQueryState:R,useQuerySubscription:T,useLazyQuerySubscription:c,useLazyQuery(u){let[o,i]=c(u),d=R(i,{...u,skip:i===W}),y=(0,t.useMemo)(()=>({lastArg:i}),[i]);return(0,t.useMemo)(()=>[o,d,y],[o,d,y])},useQuery(u,o){let i=T(u,o),d=R(u,{selectFromResult:u===w.skipToken||o?.skip?void 0:Me,...o}),{data:y,status:D,isLoading:f,isSuccess:E,isError:l,error:g}=d;return(0,t.useDebugValue)({data:y,status:D,isLoading:f,isSuccess:E,isError:l,error:g}),(0,t.useMemo)(()=>({...d,...i}),[d,i])}}}function I(r){return({selectFromResult:T,fixedCacheKey:c}={})=>{let{select:R,initiate:u}=e.endpoints[r],o=s(),[i,d]=(0,t.useState)();(0,t.useEffect)(()=>()=>{i?.arg.fixedCacheKey||i?.reset()},[i]);let y=(0,t.useCallback)(function(te){let K=o(u(te,{fixedCacheKey:c}));return d(K),K},[o,u,c]),{requestId:D}=i||{},f=(0,t.useMemo)(()=>R({fixedCacheKey:c,requestId:i?.requestId}),[c,i,R]),E=(0,t.useMemo)(()=>T?B([f],T):f,[T,f]),l=Q(E,Z.shallowEqual),g=c==null?i?.arg.originalArgs:void 0,A=(0,t.useCallback)(()=>{n(()=>{i&&d(void 0),c&&o(e.internalActions.removeMutationResult({requestId:D,fixedCacheKey:c}))})},[o,c,i,D]),{endpointName:m,data:h,status:S,isLoading:N,isSuccess:C,isError:H,error:L}=l;(0,t.useDebugValue)({endpointName:m,data:h,status:S,isLoading:N,isSuccess:C,isError:H,error:L});let M=(0,t.useMemo)(()=>({...l,originalArgs:g,reset:A}),[l,g,A]);return(0,t.useMemo)(()=>[y,M],[y,M])}}}var P=require("react-redux"),fe=require("reselect");var ie=Symbol(),se=({batch:e=P.batch,hooks:n={useDispatch:P.useDispatch,useSelector:P.useSelector,useStore:P.useStore},createSelector:s=fe.createSelector,unstable__sideEffectsInRender:Q=!1,...p}={})=>({name:ie,init(x,{serializeQueryArgs:B},b){let k=x,{buildQueryHooks:F,buildMutationHook:X,usePrefetch:ee}=ce({api:x,moduleOptions:{batch:e,hooks:n,unstable__sideEffectsInRender:Q,createSelector:s},serializeQueryArgs:B,context:b});return q(k,{usePrefetch:ee}),q(b,{batch:e}),{injectEndpoint(U,I){if(ue(I)){let{useQuery:r,useLazyQuery:T,useLazyQuerySubscription:c,useQueryState:R,useQuerySubscription:u}=F(U);q(k.endpoints[U],{useQuery:r,useLazyQuery:T,useLazyQuerySubscription:c,useQueryState:R,useQuerySubscription:u}),x[`use${j(U)}Query`]=r,x[`useLazy${j(U)}Query`]=T}else if(ae(I)){let r=X(U);q(k.endpoints[U],{useMutation:r}),x[`use${j(U)}Mutation`]=r}}}}});v(O,require("@reduxjs/toolkit/query"),module.exports);var le=require("@reduxjs/toolkit"),Qe=require("@reduxjs/toolkit"),Te=require("react"),ge=require("react"),oe=be(require("react")),J=require("react-redux"),Re=require("@reduxjs/toolkit/query");function De(e){let n=e.context||J.ReactReduxContext;if((0,Te.useContext)(n))throw new Error((0,le.formatProdErrorMessage)(35));let[Q]=oe.default.useState(()=>(0,Qe.configureStore)({reducer:{[e.api.reducerPath]:e.api.reducer},middleware:p=>p().concat(e.api.middleware)}));return(0,ge.useEffect)(()=>e.setupListeners===!1?void 0:(0,Re.setupListeners)(Q.dispatch,e.setupListeners),[e.setupListeners,Q.dispatch]),oe.default.createElement(J.Provider,{store:Q,context:n},e.children)}var Ue=(0,Y.buildCreateApi)((0,Y.coreModule)(),se());
//# sourceMappingURL=rtk-query-react.production.min.cjs.map